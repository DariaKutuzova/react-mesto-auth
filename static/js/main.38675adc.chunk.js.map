{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/SignPopup.js","components/Register.js","components/Login.js","components/ProtectedRoute.js","utils/auth.js","images/error.svg","images/success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","onSingOut","autoEmail","address","useLocation","className","src","logo","alt","type","onClick","pathname","to","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","about","map","Footer","ImagePopup","isOpen","onClose","e","target","classList","contains","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","fetch","method","then","_checkResponse","data","body","JSON","stringify","info","id","disLike","addLike","authorization","PopupWithForm","title","children","onSubmit","isDisabled","action","disabled","EditProfilePopup","onUpdateUser","useState","inputValues","setInputValues","inputValid","setInputValid","inputError","setInputError","inputDirty","setInputDirty","blurHandler","checkInputValid","value","validity","valid","validationMessage","useEffect","preventDefault","placeholder","minLength","maxLength","required","onBlur","onChange","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","defaultValue","AddPlacePopup","ConfirmPopup","SignPopup","linkToEntry","buttonText","Register","onAddUser","email","setEmail","password","setPassword","Login","onEntryUser","ProtectedRoute","Component","element","props","BASE_URL","handleResponse","status","InfoTooltip","isRegistered","success","error","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setIsSelectedCard","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","setIsRegistered","authorizedEmail","setIsAuthorizedEmail","setIsCurrentUser","setIsCards","setIsLoggedIn","navigate","useNavigate","closeAllPopups","all","getAllCards","getApiUserInfo","allCards","userData","catch","err","console","log","close","key","document","addEventListener","removeEventListener","localStorage","getItem","jwt","auth","handleTokenCheck","Provider","removeItem","path","finally","setItem","token","exact","changeLikeCardStatus","newCard","state","c","patchUserInfo","addCard","changeAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.38675adc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from \"../images/logo.svg\";\r\nimport {useLocation, Link} from \"react-router-dom\";\r\n\r\nfunction Header({loggedIn, onSingOut, autoEmail}) {\r\n\r\n    const address = useLocation()\r\n\r\n    function handleSignOut() {\r\n        onSingOut();\r\n    }\r\n\r\n    return (\r\n        <header className=\"header page__item\">\r\n            <img src={logo} alt=\"Лого шапки\" className=\"header__logo\"/>\r\n            {loggedIn && (\r\n                <p className=\"header__entry\">{autoEmail}\r\n                    <button className=\"header__button\" type=\"button\" onClick={handleSignOut}>Выйти</button>\r\n                </p>\r\n            )}\r\n            {!loggedIn && (\r\n                <p>\r\n                    {address.pathname === '/sign-in' &&\r\n                    (<Link className=\"header__link\" to=\"/sign-up\">Регистрация</Link>)}\r\n                    {address.pathname === '/sign-up' &&\r\n                    (<Link className=\"header__link\" to=\"/sign-in\">Войти</Link>)}\r\n                </p>\r\n            )}\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import {createContext} from 'react';\r\n\r\nexport const CurrentUserContext = createContext();","import {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\nimport {useContext} from 'react';\r\n\r\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n    //Подписываемся на контекст\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash ${isOwn ? 'element__trash_visible' : 'element__trash_hidden'}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (\r\n        `element__like ${isLiked ? 'element__like_active' : 'element__like'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <article className=\"element\">\r\n            <img src={card.link} alt={card.name} className=\"element__image\" onClick={handleClick}/>\r\n            <div className=\"element__caption\">\r\n                <h2 className=\"element__description\">{card.name}</h2>\r\n                <div className=\"element__likes\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" aria-label=\"Нравится\" />\r\n                    <span className=\"element__number-of-likes\">{card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" aria-label=\"Удалить\" />\r\n        </article>\r\n    );\r\n}\r\n\r\nexport default Card;","import {useContext} from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\r\n\r\n    //Подписываемся на контекст\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile page__item\">\r\n                <div className=\"profile__avatar-container\">\r\n                    <button onClick={onEditAvatar} className=\"profile__avatar-edit\"/>\r\n                    <img src={currentUser.avatar} alt={`Аватар пользователя ${currentUser.name}`}\r\n                         className=\"profile__avatar\"/>\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <div className=\"profile__container\">\r\n                        <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                        <button onClick={onEditProfile} className=\"profile__edit-button\" type=\"button\"\r\n                                aria-label=\"Изменить имя\">\r\n                        </button>\r\n                    </div>\r\n                    <p className=\"profile__description\">{currentUser.about}</p>\r\n                </div>\r\n                <button onClick={onAddPlace} className=\"profile__add-button\" type=\"button\" aria-label=\"Добавить фото\"/>\r\n            </section>\r\n\r\n            <section className=\"elements page__item\" aria-label=\"Фотогалерея\">\r\n                {cards.map((card) => (\r\n                    <Card card={card}\r\n                          key={card._id}\r\n                          onCardClick={onCardClick}\r\n                          onCardLike={onCardLike}\r\n                          onCardDelete={onCardDelete}/>\r\n                    )\r\n                )}\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer page__item\">\r\n            <p className=\"footer__copy\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function ImagePopup({isOpen, card, onClose}) {\r\n\r\n    function handlePopupClose(e) {\r\n        if (e.target.classList.contains('popup_opened')) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`popup popup_type_open-image ${isOpen ? 'popup_opened' : ''}`}\r\n             onClick={handlePopupClose}>\r\n            <div className=\"popup__open-image\">\r\n                <img src={card ? card.link : ''} alt={card ? card.name: ''} className=\"popup__image\"/>\r\n                <p className=\"popup__image-title\">{card ? card.name: ''}</p>\r\n                <button className=\"popup__close popup__close_type_image\" type=\"button\" aria-label=\"Закрыть\"\r\n                        onClick={onClose}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;","class Api{\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n    // проверка ответа\r\n    _checkResponse(res) {\r\n        if (res.ok){\r\n            return res.json();}\r\n        return Promise.reject('Произошла ошибка')\r\n    }\r\n\r\n    //Рендер всех карточек на страницу с сервера\r\n    getAllCards() {\r\n        return fetch(`${this._url}cards/`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n    //Добавление карточки из формы\r\n    addCard(data) {\r\n        return fetch(`${this._url}cards/`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                link: data.link\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n//Сменить аватар\r\n    changeAvatar(data) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n//Имя и работа с сервера в форму\r\n    getApiUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers,\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n//Имя и работа из формы на страницу\r\n    patchUserInfo(data) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: data.name,\r\n                about: data.info\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n//Удалить карточку\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n//Добавить лайк\r\n    addLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: \"PUT\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    //Убрать лайк\r\n    disLike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers,\r\n        }).then(this._checkResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        if (isLiked) {\r\n            return this.disLike(id);\r\n        } else {\r\n            return this.addLike(id);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n//Экземпляр API\r\nconst api= new Api({\r\n    url: \"https://mesto.nomoreparties.co/v1/cohort-29/\",\r\n    headers: {\r\n        \"content-type\": \"application/json\",\r\n        authorization: \"8bc97cc4-e8dd-4b97-8e8e-b29acddab317\"\r\n    }\r\n});\r\n\r\nexport default api;","function PopupWithForm({isOpen, onClose, name, title, children, onSubmit, isDisabled}) {\r\n\r\n    function handlePopupClose(e) {\r\n        if (e.target.classList.contains('popup_opened')) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}\r\n        onClick={handlePopupClose}>\r\n            <div className={`popup__container popup__container_type_${name}`}>\r\n                <form action=\"#\" className={`popup__form popup__form_type_${name}`} name={`${name}`}\r\n                      onSubmit={onSubmit}>\r\n                    <h2 className=\"popup__form-header\">{title}</h2>\r\n                    {children}\r\n                    <button className={`popup__button ${isDisabled ?\r\n                        'popup__button_disabled'\r\n                        :\r\n                        ''\r\n                    }`}\r\n                            disabled={isDisabled} type=\"submit\">Сохранить\r\n                    </button>\r\n                </form>\r\n                <button onClick={onClose} className={`popup__close popup__close_type_${name}`}\r\n                        type=\"button\" aria-label=\"Закрыть\"/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from \"./PopupWithForm\";\r\nimport {useState, useContext, useEffect} from \"react\";\r\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n    const [inputValues, setInputValues] = useState({name: '', info: ''});\r\n    const [inputValid, setInputValid] = useState({name: false, info: false});\r\n    const [inputError, setInputError] = useState({name: '', info: ''});\r\n    const [inputDirty, setInputDirty] = useState({name: false, info: false});\r\n\r\n    //Подписываемся на контекст\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    // После загрузки текущего пользователя из API\r\n    // его данные будут использованы в управляемых компонентах.\r\n    useEffect(() => {\r\n        if (currentUser && isOpen) {\r\n            setInputValues({name: currentUser.name, info: currentUser.about});\r\n            setInputValid({name: false, info: false});\r\n            setInputError({name: '', info: ''});\r\n            setInputDirty({name: false, info: false});\r\n        }\r\n    }, [currentUser, isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        // Запрещаем браузеру переходить по адресу формы\r\n        e.preventDefault();\r\n\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        onUpdateUser({\r\n            name: inputValues.name,\r\n            info: inputValues.info,\r\n        });\r\n    }\r\n\r\n    //Если убрал курсор из инпута\r\n    function blurHandler(e) {\r\n        switch (e.target.name) {\r\n            case 'name':\r\n                setInputDirty({name: true});\r\n                break;\r\n            case 'info':\r\n                setInputDirty({info: true});\r\n                break;\r\n            default:\r\n                setInputDirty(false);\r\n                break;\r\n        }\r\n    }\r\n\r\n    //Проверка на валидность\r\n    function checkInputValid(e) {\r\n        setInputValues({\r\n            ...inputValues,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        setInputValid({\r\n            ...inputValid,\r\n            [e.target.name]: e.target.validity.valid\r\n        });\r\n        setInputError({\r\n            ...inputError,\r\n            [e.target.name]: e.target.validationMessage\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'profile'}\r\n            title={'Редактировать профиль'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!inputValid.name || !inputValid.info}\r\n        >\r\n            <input type=\"text\" placeholder=\"Имя Фамилия\" className={`popup__input popup__input_value_name \r\n            ${!inputValid.name && inputDirty.name ? 'popup__input_type_error'\r\n                : ''}`}\r\n                   id=\"name-input\" name=\"name\" minLength=\"2\" maxLength=\"40\" required value={inputValues.name}\r\n                   onBlur={e => blurHandler(e)}\r\n                   onChange={checkInputValid}/>\r\n            <span id=\"name-input-error\" className=\"popup__input-error popup__input-error_active\">\r\n                {inputValid.name && !inputDirty.name ? '' : inputError.name}\r\n            </span>\r\n            <input type=\"text\" placeholder=\"Род деятельности\"\r\n                   className={`popup__input popup__input_value_job \r\n            ${!inputValid.info && inputDirty.info ? 'popup__input_type_error'\r\n                       : ''}`}\r\n                   id=\"job-input\" name=\"info\" minLength=\"2\" maxLength=\"200\" required value={inputValues.info}\r\n                   onBlur={e => blurHandler(e)}\r\n                   onChange={checkInputValid}/>\r\n            <span id=\"job-input-error\" className=\"popup__input-error popup__input-error_active\">\r\n                {inputValid.info && !inputDirty.info ? '' : inputError.info}\r\n            </span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;","import PopupWithForm from \"./PopupWithForm\";\r\nimport {useEffect, useRef, useState} from \"react\";\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const avatarRef = useRef('');\r\n    const [inputValid, setInputValid] = useState(false);\r\n    const [inputError, setInputError] = useState('');\r\n    const [inputDirty, setInputDirty] = useState(false);\r\n    const className = !inputValid && inputDirty ? 'popup__input_type_error popup__input popup__input_type_notlast'\r\n        : 'popup__input popup__input_type_notlast';\r\n\r\n    //Если убрал курсор из инпута\r\n    function blurHandler(e) {\r\n        switch (e.target.name) {\r\n            case 'avatar':\r\n                setInputDirty(true);\r\n                break;\r\n            default:\r\n                setInputDirty(false);\r\n                break;\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    function checkInputValid() {\r\n        setInputValid(avatarRef.current.validity.valid);\r\n        setInputError(avatarRef.current.validationMessage);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            avatarRef.current.value = '';\r\n            setInputValid(false);\r\n            setInputError('');\r\n            setInputDirty(false);\r\n        }\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'avatar'}\r\n            title={'Обновить аватар'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!inputValid}\r\n        >\r\n            <input type=\"url\" placeholder=\"https://somewebsite.com/someimage.jpg\"\r\n                   className={className}\r\n                   id=\"avatar-input\"\r\n                   name=\"avatar\" required\r\n                   ref={avatarRef}\r\n                   defaultValue={''}\r\n                   onChange={checkInputValid}\r\n                   onBlur={e => blurHandler(e)}\r\n            />\r\n            <span id=\"avatar-input-error\" className=\"popup__input-error popup__input-error_active\">\r\n            {inputValid && !inputDirty ? '' : inputError}\r\n            </span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import PopupWithForm from \"./PopupWithForm\";\r\nimport {useState, useEffect} from \"react\";\r\n\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n    const [inputValues, setInputValues] = useState({name: '', link: ''});\r\n    const [inputValid, setInputValid] = useState({name: false, link: false});\r\n    const [inputError, setInputError] = useState({name: '', link: ''});\r\n    const [inputDirty, setInputDirty] = useState({name: false, link: false});\r\n\r\n    // function handleChangeName(evt) {\r\n    //     setName(evt.target.value);\r\n    // }\r\n    //\r\n    // function handleChangeLink(evt) {\r\n    //     setLink(evt.target.value);\r\n    // }\r\n\r\n    function handleSubmit(e) {\r\n\r\n        e.preventDefault();\r\n\r\n        onAddPlace({\r\n            name: inputValues.name,\r\n            link: inputValues.link,\r\n        });\r\n    }\r\n\r\n    //Если убрал курсор из инпута\r\n    function blurHandler(e) {\r\n        switch (e.target.name) {\r\n            case 'name':\r\n                setInputDirty({name: true});\r\n                break;\r\n            case 'link':\r\n                setInputDirty({link: true});\r\n                break;\r\n            default:\r\n                setInputDirty(false);\r\n                break;\r\n        }\r\n    }\r\n\r\n    //Проверка на валидность\r\n    function checkInputValid(e) {\r\n        setInputValues({\r\n            ...inputValues,\r\n            [e.target.name]: e.target.value\r\n        });\r\n        setInputValid ({\r\n            ...inputValid,\r\n            [e.target.name]: e.target.validity.valid\r\n        });\r\n        setInputError({\r\n            ...inputError,\r\n            [e.target.name]: e.target.validationMessage\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setInputValues({name: '', link: ''});\r\n            setInputValid({name: false, link: false});\r\n            setInputError({name: '', link: ''});\r\n            setInputDirty({name: false, link: false});\r\n        }\r\n    }, [isOpen])\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'add-place'}\r\n            title={'Новое место'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!inputValid.name || !inputValid.link}\r\n        >\r\n            <input type=\"text\" placeholder=\"Название\" className={`popup__input popup__input_value_place \r\n            ${!inputValid.name && inputDirty.name ? 'popup__input_type_error'\r\n        : ''}`}\r\n                   id=\"place-input\" name=\"name\" minLength=\"2\" maxLength=\"30\" value={inputValues.name || \"\"}\r\n                   // onChange={handleChangeName}\r\n                   onBlur={e => blurHandler(e)}\r\n                   onChange={checkInputValid}\r\n                   required/>\r\n            <span id=\"place-input-error\" className=\"popup__input-error  popup__input-error_active\">\r\n                {inputValid.name && !inputDirty.name ? '' : inputError.name}\r\n            </span>\r\n            <input type=\"url\" placeholder=\"Ссылка на картинку\"\r\n                   className={`popup__input popup__input_value_link \r\n                   ${!inputValid.link && inputDirty.link ? 'popup__input_type_error'\r\n        : ''}`}\r\n                   id=\"link-input\" name=\"link\" value={inputValues.link || \"\"}\r\n                   // onChange={handleChangeLink}\r\n                   onBlur={e => blurHandler(e)}\r\n                   onChange={checkInputValid} required/>\r\n            <span id=\"link-input-error\" className=\"popup__input-error  popup__input-error_active\">\r\n                {inputValid.link && !inputDirty.link ? '' : inputError.link}\r\n            </span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;","import PopupWithForm from \"./PopupWithForm\";\r\n\r\n\r\nfunction ConfirmPopup({card, isOpen, onClose, onCardDelete}) {\r\n\r\n    function handleSubmit(e) {\r\n\r\n        e.preventDefault();\r\n\r\n        onCardDelete(card);\r\n    }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'confirm'}\r\n            title={'Вы уверены?'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n        />\r\n    );\r\n}\r\n\r\nexport default ConfirmPopup;","function SignPopup({isOpen, onClose, name, title, children, onSubmit, isDisabled, linkToEntry, buttonText}) {\r\n\r\n    function handlePopupClose(e) {\r\n        if (e.target.classList.contains('popup_opened')) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`sign ${isOpen ? 'popup_opened' : ''}`}\r\n             onClick={handlePopupClose}>\r\n            <div className={`popup__container sign__container`}>\r\n                <form action=\"#\" className={`popup__form`} name={`${name}`}\r\n                      onSubmit={onSubmit}>\r\n                    <h2 className=\"popup__form-header sign__header\">{title}</h2>\r\n                    {children}\r\n                    <button className={`popup__button sign__button`}\r\n                            disabled={isDisabled} type=\"submit\">{buttonText}\r\n                    </button>\r\n                    {linkToEntry}\r\n                </form>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default SignPopup;","import { Link} from 'react-router-dom';\r\nimport {useState} from \"react\";\r\nimport SignPopup from \"./SignPopup\";\r\n\r\n\r\nfunction Register({isOpen, onClose, onAddUser}) {\r\n\r\n    const linkToEntry = (\r\n        <p\r\n            className=\"sign__description\"\r\n        >\r\n            Уже зарегистрированы? <Link className=\"sign__link\" to=\"/sign-in\">Войти</Link>\r\n        </p>\r\n    )\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddUser(email, password);\r\n    }\r\n\r\n    return (\r\n        <SignPopup\r\n            name={'login'}\r\n            title={'Регистрация'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            buttonText={'Зарегистрироваться'}\r\n            onSubmit={handleSubmit}\r\n            linkToEntry={linkToEntry}\r\n            isDisabled={!email || !password}\r\n        >\r\n            <input type=\"email\" placeholder=\"Email\" className={`popup__input popup__input_value_name sign__input`}\r\n                   id=\"email-input\" name=\"email\" minLength=\"2\" maxLength=\"40\" required value={email}\r\n                   onChange={handleEmailChange}/>\r\n            <span id=\"email-input-error\" className=\"popup__input-error popup__input-error_active sign__input-error\"/>\r\n            <input type=\"password\" placeholder=\"Пароль\"\r\n                   className={`popup__input popup__input_value_job sign__input`}\r\n                   id=\"password-input\" name=\"password\" minLength=\"2\" maxLength=\"200\" required value={password}\r\n                   onChange={handlePasswordChange}/>\r\n            <span id=\"password-input-error\" className=\"popup__input-error popup__input-error_active sign__input-error\"/>\r\n        </SignPopup>\r\n    );\r\n}\r\n\r\n\r\nexport default Register;","// import * as auth from '../auth.js';\r\n\r\nimport SignPopup from \"./SignPopup\";\r\nimport {useState} from \"react\";\r\n\r\nfunction Login({isOpen, onClose, onEntryUser}) {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    function handleEmailChange(e) {\r\n        setEmail(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onEntryUser(email, password);\r\n    }\r\n\r\n    return (\r\n        <SignPopup\r\n            name={'login'}\r\n            title={'Вход'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            buttonText={'Войти'}\r\n            onSubmit={handleSubmit}\r\n            isDisabled={!email || !password}\r\n        >\r\n            <input type=\"email\" placeholder=\"Email\" className={`popup__input popup__input_value_name sign__input`}\r\n                   id=\"email-input\" name=\"email\" minLength=\"2\" maxLength=\"40\" required value={email}\r\n                   onChange={handleEmailChange}/>\r\n            <span id=\"email-input-error\" className=\"popup__input-error popup__input-error_active sign__input-error\"/>\r\n            <input type=\"password\" placeholder=\"Пароль\"\r\n                   className={`popup__input popup__input_value_job sign__input`}\r\n                   id=\"password-input\" name=\"password\" minLength=\"2\" maxLength=\"200\" required value={password}\r\n                   onChange={handlePasswordChange}/>\r\n            <span id=\"password-input-error\" className=\"popup__input-error popup__input-error_active sign__input-error\"/>\r\n        </SignPopup>\r\n    );\r\n}\r\n\r\n\r\nexport default Login;","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ element: Component, ...props }) {\r\n    return (\r\n            props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\r\n    );\r\n};\r\n\r\nexport default ProtectedRoute;","export const BASE_URL = 'https://auth.nomoreparties.co'\r\n\r\nfunction handleResponse(res) {\r\n    if (res.ok) {\r\n        return res.json()\r\n    }\r\n    return Promise.reject(res.status)\r\n}\r\n\r\nexport function register(email, password) {\r\n    return fetch(`${BASE_URL}/signup`,{\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n        .then(handleResponse)\r\n};\r\n\r\nexport function authorize(email, password) {\r\n    return fetch(`${BASE_URL}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n        .then(handleResponse)\r\n};\r\n\r\nexport function checkToken(jwt) {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\" : `Bearer ${jwt}`\r\n        }\r\n    })\r\n        .then(handleResponse)\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import error from \"../images/error.svg\";\r\nimport success from \"../images/success.svg\"\r\n\r\nfunction InfoTooltip({isOpen, onClose, isRegistered}) {\r\n\r\n    function handlePopupClose(e) {\r\n        if (e.target.classList.contains('popup_opened')) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`popup ${isOpen ? 'popup_opened' : ''}`}\r\n             onClick={handlePopupClose}>\r\n            <div className=\"popup__container popup__container_type_tooltip\">\r\n                <img className=\"popup__icon\" src={isRegistered ? success : error}\r\n                     alt={isRegistered ? 'иконка успешной регистрации' : 'иконка ошибки'}/>\r\n                <h3 className=\"popup__form-header popup__tooltip-title\">{isRegistered ?\r\n                    'Вы успешно зарегистрировались!' :\r\n                    'Что-то пошло не так... Попробуйте ещё раз.'}\r\n                </h3>\r\n                <button onClick={onClose} className={`popup__close`}\r\n                        type=\"button\" aria-label=\"Закрыть\"/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;","import {useState, useEffect} from 'react';\nimport Header from '../components/Header';\nimport Main from '../components/Main';\nimport Footer from '../components/Footer';\nimport ImagePopup from \"./ImagePopup\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\nimport api from \"../utils/Api\";\nimport EditProfilePopup from '../components/EditProfilePopup'\nimport EditAvatarPopup from '../components/EditAvatarPopup'\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport Register from './Register';\nimport Login from \"./Login\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from '../utils/auth';\nimport InfoTooltip from \"./InfoTooltip\";\nimport {Routes, Route, useNavigate} from \"react-router-dom\";\n\n\nfunction App() {\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n    const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n    const [selectedCard, setIsSelectedCard] = useState(null);\n    const [isConfirmPopupOpen, setIsConfirmPopupOpen] = useState(false);\n    const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] = useState(false);\n\n    const [isRegistered, setIsRegistered] = useState(false);\n    const [authorizedEmail, setIsAuthorizedEmail] = useState('');\n\n    const [currentUser, setIsCurrentUser] = useState({avatar: '', name: '', about: ''})\n    ;\n    const [cards, setIsCards] = useState([]);\n\n    const [loggedIn, setIsLoggedIn] = useState(false);\n    const navigate = useNavigate()\n\n    useEffect(() => {\n        Promise.all([api.getAllCards(), api.getApiUserInfo()])\n            .then(([allCards, userData]) => {\n                setIsCurrentUser(userData);\n                setIsCards(allCards);\n            })\n            .catch((err) => {\n                console.log(`${err}`);\n            });\n        const close = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n        document.addEventListener('keydown', close)\n        return () => document.removeEventListener('keydown', close)\n    }, []);\n\n    useEffect(() => {\n        handleTokenCheck()\n    }, [])\n\n    useEffect(() => {\n        if (loggedIn === true) {\n            navigate('/')\n        }\n    }, [loggedIn, navigate])\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleCardClick(card) {\n        setIsSelectedCard(card);\n        setIsImagePopupOpen(true);\n    }\n\n    function handleDeleteClick(card) {\n        setIsSelectedCard(card);\n        setIsConfirmPopupOpen(true);\n    }\n\n\n    function closeAllPopups() {\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditAvatarPopupOpen(false);\n        setIsImagePopupOpen(false);\n        setIsConfirmPopupOpen(false);\n        setIsInfoTooltipPopupOpen(false);\n    }\n\n    //Изменить инфо пользователя\n    function handleUpdateUser(data) {\n        api.patchUserInfo(data)\n            .then(\n                (data) => {\n                    setIsCurrentUser(data);\n                    closeAllPopups();\n                })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    //Изменить аватар\n    function handleUpdateAvatar(data) {\n        api.changeAvatar(data)\n            .then(\n                (data) => {\n                    setIsCurrentUser(data);\n                    closeAllPopups();\n                })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    //Функция лайка карточки\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        // Отправляем запрос в API и получаем обновлённые данные карточки\n        api.changeLikeCardStatus(card._id, isLiked)\n            .then((newCard) => {\n                setIsCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    //Функция удаления карточки\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n            .then(() => {\n                setIsCards((state) => state.filter((c) => c._id !== card._id));\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    //Функция добавления карточки\n    function handleAddPlaceSubmit(data) {\n        api.addCard(data)\n            .then((newCard) => {\n                setIsCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    //Регистрация\n    function handleSignUp(email, password) {\n        auth.register(email, password)\n            .then(\n                () => {\n                    setIsRegistered(true);\n                    navigate('/sign-in');\n                })\n            .catch((err) => {\n                console.log(err);\n                setIsRegistered(false);\n            })\n            .finally(() => {\n                setIsInfoTooltipPopupOpen(true);\n            })\n    }\n\n    //Проверка токена\n    function handleTokenCheck() {\n        const jwt = localStorage.getItem(\"jwt\")\n        if (jwt) {\n            const jwt = localStorage.getItem(\"jwt\")\n            auth.checkToken(jwt)\n                .then((res) => {\n                    if (res) {\n                        setIsLoggedIn(true)\n                        setIsAuthorizedEmail(res.data.email)\n                    }\n                })\n                .catch((err) => {\n                    console.log(`Не удалось получить токен: ${err}`)\n                })\n        }\n    }\n\n    //Функция выхода из акка\n    function handleLogout() {\n        localStorage.removeItem('jwt')\n        setIsLoggedIn(false)\n        navigate('/sign-in')\n    }\n\n    //Функция входа\n    function handleAuthorize(email, password) {\n        auth.authorize(email, password)\n            .then((data) => {\n                localStorage.setItem('jwt', data.token);\n                setIsLoggedIn(true);\n                setIsAuthorizedEmail(email)\n                navigate('/');\n            })\n            .catch((err) => {\n                console.log(err);\n            })\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header\n                    loggedIn={loggedIn}\n                    autoEmail={authorizedEmail}\n                    onSingOut={handleLogout}\n                />\n                <Routes>\n                    <Route path=\"/sign-up\" element={\n                        <Register\n                            onAddUser={handleSignUp}\n                        />}/>\n                    <Route path=\"/sign-in\" element={\n                        <Login\n                            onEntryUser={handleAuthorize}\n                        />}/>\n                    <Route exact path=\"/\" element={\n                        <ProtectedRoute\n                            element={Main}\n                            loggedIn={loggedIn}\n                            onEditProfile={handleEditProfileClick}\n                            onAddPlace={handleAddPlaceClick}\n                            onEditAvatar={handleEditAvatarClick}\n                            onCardClick={handleCardClick}\n                            onCardLike={handleCardLike}\n                            onCardDelete={handleDeleteClick}\n                            cards={cards}\n                        />}\n\n                    />\n                </Routes>\n                <Footer/>\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}\n                                  onUpdateUser={handleUpdateUser}/>\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups}\n                                 onUpdateAvatar={handleUpdateAvatar}/>\n                <ImagePopup\n                    isOpen={isImagePopupOpen}\n                    card={selectedCard}\n                    onClose={closeAllPopups}/>\n                <ConfirmPopup onClose={closeAllPopups} isOpen={isConfirmPopupOpen} card={selectedCard}\n                              onCardDelete={handleCardDelete}/>\n                <InfoTooltip onClose={closeAllPopups}\n                             isOpen={isInfoTooltipPopupOpen}\n                             isRegistered={isRegistered}\n                />\n\n\n            </div>\n        </CurrentUserContext.Provider>\n    )\n        ;\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter basename='/react-mesto-auth'>\n          <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}